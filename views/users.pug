html
  head
    title User List
    link(rel="stylesheet", href="/styles/users.css")
  body
    .container
      h1 User List
      if successMessage
         .success-message
         p= successMessage
      table
        thead
          tr
      
            th Name
            th Email
            th Address
            th Course
            th Edit 
            th Delete 
        tbody
          each user in users
            tr
              td= user.name
              td= user.email
              td= user.address
              td= user.course
              td 
                form(action=`/edit/${user.id}`, method="post")
                  button.edit(type='submit') Edit 
              td 
                button(type='submit',onclick=`deleteUser(${user.id})`) Delete
                
      a.add(href='/users/add-student') Add new student

script.
  function deleteUser(userId) {
    if (confirm('Are you sure you want to delete this user?')) {
      fetch(`/users/${userId}`, {
        method: 'DELETE',
      })
      .then(response => {
        if (response.ok) {
          location.reload();
        } else {
          alert('Error deleting user');
        }
      })
      .catch(error => {
        console.error('Error deleting user', error);
        alert('Error deleting user');
      });
    }
  }